
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{xcolor} % Pour utiliser \textcolor{}

\title{LIFWEB - CM3 \\ Programmation Fonctionnelle et Asynchrone}
\author{Romuald THION}
\date{Semestre printemps 2023-2024 UCBL}

\begin{document}

\maketitle

\section{PROGRAMMATION FONCTIONNELLE EN JS}
\section{CONCEPTS DE LA PROGRAMMATION FONCTIONNELLE}
Glossary of Modern JavaScript Concepts (2017)
\begin{itemize}
    \item Purity: pure functions, side effects,
    \item State: stateful and stateless,
    \item Immutability and mutability,
    \item Imperative and declarative programming,
    \item Higher-order functions, ‚Ä¶
\end{itemize}
Voir LIFPF - Programmation Fonctionnelle.

\section{PROGRAMMATION FONCTIONNELLE AUJOURD‚ÄôHUI}
2023 Developer Survey Stack Overflow
six langages fonctionnels dans Top paying technologies.
Functional programming is finally going mainstream
\begin{itemize}
    \item ‚ÄúOnce functional programming really clicked in my brain, I was like ‚Äòwhy do it any other way?‚Äô‚Äù
    \item ‚ÄúReact encourages people to think in a more functional way, even if it isn‚Äôt purely functional.‚Äù
\end{itemize}

\section{FONCTIONS EN JS}
\section{PORT√âE DES VARIABLES}
\textcolor{red}{‚ò†Ô∏è} var : port√©e fonction \textcolor{red}{‚ò†Ô∏è}
\newline
\textcolor{blue}{‚ö†Ô∏è} let/const : port√©e lexicale (bloc) \textcolor{blue}{‚ö†Ô∏è}
\newline

\textcolor{green}{üëç} let/const, la port√©e de i est la boucle for.

\begin{verbatim}
for (let i = 0; i < 3; i++) {
  console.log(i); // 0, then 1, then 2
}
%Error: Unmatched {.
\end{verbatim}

\textcolor{orange}{üëé} var, la port√©e de i est la fonction englobante.

\begin{verbatim}
for (var i = 0; i < 3; i++) {
  console.log(i); // 0, then 1, then 2
}
console.log(i); // affiche 3 üò±
\end{verbatim}

\section{D√âCLARATION DE FONCTION}
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

Ici, on cr√©e une fonction avec une instruction (statement) function qui ne produit pas de valeur de retour (MDN).

\section{EXPRESSION FONCTIONNELLE}
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

üëâ Ici, on cr√©e une fonction comme une expression avec laquelle on initialise une variable funct, c‚Äôest une Named Function Expression - (NFE) (javascript.info, MDN).

\section{EXPRESSION FL√âCH√âE (1/3)}
A.k.a., arrow functions, fat arrows ou lambdas (MDN).

\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

\textcolor{blue}{‚ö†Ô∏è} Sans return, funct renvoie undefined. \textcolor{blue}{‚ö†Ô∏è}

\section{EXPRESSION FL√âCH√âE (2/3)}
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

Quasi-√©quivalente √† la NFE suivante :
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}
Et √† l‚Äôexpression du Œª-calcul :

\[Œªa_1...Œªa_n.e\]

\section{EXPRESSION FL√âCH√âE (3/3)}
\textcolor{blue}{‚ö†Ô∏è} NFE et arrows ne sont pas √©quivalentes, car une arrow a this dans sa fermeture statique, mais pas la NFE qui l‚Äôobtient dynamiquement. \textcolor{blue}{‚ö†Ô∏è}

\section{LES FERMETURES (CLOSURES)}
Terme utilis√© en JS pour \((Œªx.e)v\) : l‚Äôexpression \(e\) dans laquelle \(x\) prend la valeur √† \(v\).

\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

üí° helloBuddy() et helloGuys() sont des fermetures (closures) o√π person est li√©e.

\section{LES FERMETURES (CLOSURES)}
En Œª-calcul (avec \(++\) la concat√©nation) :

\[helloBuddy ‚â° Œªp.Œªc.p++c ‚â° (helloBuddy) ‚â° (Œªp.Œªc.p++c)Buddy ‚â° (Œªc.p++c)[p:=Buddy]\]

\section{LA S√âMANTIQUE DE JS}
La s√©mantique de JS est informelle ECMA-262, sa formalisation se construit a posteriori, e.g. KJS: A Complete Formal Semantics of JavaScript - PLDI‚Äô15, voir aussi TypeScript.

\section{EXEMPLE : FERMETURE AVEC LE DOM (1/2)}
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

üí° La variable taille est li√©e.

\section{EXEMPLE : FERMETURE AVEC LE DOM (2/2)}
La fermeture de M. Jourdain (TP2) :
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

\section{EXEMPLE : TABLEAU DE FONCTIONS}
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

Voir l‚Äôexemple.

ü§î let/const n‚Äôont √©t√© introduits qu‚Äôavec ES6 / ECMAScript 2015, comment faisait-on depuis 1995 ?

\section{IIFE}
An IIFE (Immediately Invoked Function Expression) is a JavaScript function that runs as soon as it is defined MDN.
\begin{verbatim}
%Error: Missing \begin{document}.
%Error: Missing \end{document}.
\end{verbatim}

üìú Permet de limiter la port√©e des variables avec une closure : m√©thode avant la standardisation des modules ESM (ES6) pour encapsuler.

üí° Les IIFEs permettent de
